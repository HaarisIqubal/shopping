<%- include('./layout/header') %>

<div class="container">
    <br>
    <a class="btn btn-success" href="add">Add Product</a>
    <br>
    <br>
<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">#</th>
      <th scope="col">Product Name</th>
      <th scope="col">Product Price</th>
      <th scope="col">Product Quantity</th>
      <th scope="col">Product Likes</th>
      <th scope="col">Status</th>
    </tr>
  </thead>
  <tbody>
    
      
    <% for(var product of products) { %>
      
    <tr>
      <td scope="row">!</td>
      <td><%= product.product_name %></td>
      <td><%= product.product_total_price %></td>
      <td><%= product.product_quantity %></td>
      <td><%= product.product_likes %></td>
      <td>
        <a class="btn btn-info" href="edit/<%= product._id%>">Edit</a>
        <a class="btn btn-danger" href="delete/<%= product._id%>">Delete</a>
      </td>
    </tr>
    
    <% } %>
  </tbody>
</table>

<br>
<nav aria-label="Page navigation example">
  <ul class="pagination">
    <%if (currentPage == 1) { %>
    <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
    <% } else { %>
   <li class="page-item"><a class="page-link" href="/products/dashboard/page/<%= currentPage-1 %>">Previous</a></li>
    <% } %>
    <% for(var i = 1; i <= totalPage ;i++) { %>
      <% if (currentPage == i) { %>
        <li class="page-item active"><a class="page-link" href="/products/dashboard/page/<%= currentPage %>"><%= i %></a></li>
        <% }else{ %>
        <li class="page-item"><a class="page-link" href="/products/dashboard/page/<%= i %>"><%= i %></a></li>
    <% } %>
    <% } %>
    <%if (totalPage == currentPage) { %>
      <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
      <% } else { %>
     <li class="page-item"><a class="page-link" href="/products/dashboard/page/<%= currentPage+1 %>">Next</a></li>
      <% } %> 
  </ul>
</nav>
</div>

